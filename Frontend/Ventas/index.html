<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Punto de Venta</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="pos-container">
        <main class="columna-venta">
            <header class="header-venta">
                <h2>Venta Actual</h2>
                <input type="text" id="escaner-sku" placeholder="Escanear SKU...">
            </header>
            <div id="lista-productos-escaneados" class="lista-items">
                <p class="placeholder">Esperando escaneo...</p>
            </div>
            <footer class="footer-venta">
                <div class="total">
                    <span>TOTAL:</span>
                    <span id="venta-total">$0</span>
                </div>
            </footer>
        </main>

        <aside class="columna-acciones">
            <img src="../logo.jpeg" alt="Logo" class="logo-tpv">
            
            <div class="panel-header">
                <div class="saludo-container">
                    <h3 id="bienvenida-usuario">Hola...</h3>
                    <span id="rol-usuario" class="rol-subtitulo">Vendedor</span>
                </div>
                <button id="btn-logout" class="boton-logout">Salir</button>
            </div>

            <div style="display:flex; flex-direction:column; gap:15px; width:100%;">
                <button class="accion-btn" id="btn-cobrar">Cobrar</button>
                <button class="accion-btn" id="btn-buscar">Cantidad a Agregar</button>
                <button class="accion-btn accion-peligro" id="btn-cancelar">Limpiar</button>
            </div>
        </aside>
    </div>

    <button id="btn-volver-dash" class="btn-flotante-admin" style="display:none;">
        ‚öôÔ∏è Dashboard
    </button>

    <div id="modal-metodo-pago" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Seleccionar M√©todo de Pago</h2>
                <button class="modal-cerrar-btn" id="cerrar-modal-pago">&times;</button>
            </div>
            <div class="modal-body">
                <div id="total-a-cobrar" style="text-align: center; font-size: 2rem; font-weight: bold; color: #29542e; margin-bottom: 20px;">
                    Total: $0
                </div>
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <button class="btn-metodo-pago" data-metodo="mercado_pago">
                        üí≥ Mercado Pago
                    </button>
                    <button class="btn-metodo-pago" data-metodo="debito">
                        üí≥ D√©bito
                    </button>
                    <button class="btn-metodo-pago" data-metodo="credito">
                        üí≥ Cr√©dito
                    </button>
                    <button class="btn-metodo-pago" data-metodo="efectivo">
                        üíµ Efectivo
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmaci√≥n de Venta -->
    <div id="modal-confirmacion" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <div style="padding: 30px;">
                <div style="font-size: 4rem; color: #28a745; margin-bottom: 20px;">
                    ‚úì
                </div>
                <h2 style="color: #28a745; margin-bottom: 15px;">¬°Venta Exitosa!</h2>
                <p id="mensaje-confirmacion" style="font-size: 1.1rem; color: #555; margin-bottom: 10px;">
                    Venta procesada correctamente
                </p>
                <p id="metodo-confirmacion" style="font-size: 1rem; color: #777; margin-bottom: 25px;">
                    M√©todo de pago: Efectivo
                </p>
                <button id="btn-cerrar-confirmacion" class="accion-btn" style="width: 100%; background: #28a745;">
                    Aceptar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Error -->
    <div id="modal-error" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 400px; text-align: center;">
            <div style="padding: 30px;">
                <div style="font-size: 4rem; color: #dc3545; margin-bottom: 20px;">
                    ‚úï
                </div>
                <h2 style="color: #dc3545; margin-bottom: 15px;">Error al Procesar Venta</h2>
                <p id="mensaje-error" style="font-size: 1.1rem; color: #555; margin-bottom: 25px;">
                    Error desconocido
                </p>
                <button id="btn-cerrar-error" class="accion-btn" style="width: 100%; background: #dc3545;">
                    Aceptar
                </button>
            </div>
        </div>
    </div>

    <script src="ventas.js"></script>
</body>
</html>